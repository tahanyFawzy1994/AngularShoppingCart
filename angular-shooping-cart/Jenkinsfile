pipeline {

    agent any
    
    tools {nodejs "node"}
    stages {
      stage('install'){
        when {
                branch 'master'
            }
        steps {
                echo 'Installing...'
              dir ('angular-shooping-cart'){
                bat 'npm install'
              }
            }
      }
      stage('test') {
         when {
                branch 'master'
            }
            steps {
                echo 'Unit Testing ...'
              dir ('angular-shooping-cart'){
                bat 'ng test --single-run=true --browser Firefox'
              }
            }
		}
        stage('Build') {
           when {
                branch 'master'
            }
            steps {
                echo 'Building...'
              dir ('angular-shooping-cart'){
                bat 'ng build --prod'
              }
            }
		}
		
          stage('copy') {
             when {
                branch 'master'
            }
            steps {
                echo 'coping...'
              dir ('angular-shooping-cart'){
                
              }
            }
        
        }
    }
}
